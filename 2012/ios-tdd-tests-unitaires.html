<h2>Pas assez "amazing" ?</h2>

<p>
    Le problème, c'est peut-être qu'Apple ne fait pas beaucoup d'efforts. La <a href="http://developer.apple.com/library/ios/#documentation/DeveloperTools/Conceptual/UnitTesting/00-About_Unit_Testing/about.html">documentation</a> est modeste, le sujet n'est pas évoqué lors des <a href="https://developer.apple.com/wwdc/">WWDC</a> et les <a href="https://developer.apple.com/library/ios/navigation/index.html?section=Resource+Types&topic=Sample+Code">codes d'exemples</a> n'en contiennent jamais. À croire que les tests unitaires n'existent pas à Cupertino.
</p>
<p>
    Le seul progrès récent dans ce domaine concerne l'intégration relativement poussée d'<a href="http://www.sente.ch/software/ocunit/">OCUnit</a> (SenTest, le framework ‘officiel’ pour les tests Objective-C) à Xcode 4. Lors de la création d'un nouveau projet, l'option “inclure tests unitaires” permet la configuration automatique du projet, avec <em>target</em> dédiée. Bien. Et le raccourci <em>‘Cmd’+‘U’</em> permet effectivement de lancer facilement l'exécution des tests, sur un appareil ou avec le simulateur. 
</p>
<div class="slideshow">
	<img src="img/ios-tdd-tests-unitaires/xcode-ocunit.png" alt="OCUnit in Xcode" />
</div>
<p>
    Pourtant, même si on ne dispose pas vraiment de statistiques sur le sujet, le constat est facile à établir : la très grande majorité des développeurs iOS (Mac ?) codent sans tests.
</p>

<h2>Se mettre aux tests</h2>

<p>
    Je vais prendre un exemple que je maîtrise plutôt bien : moi. J'ai passé 3 ans à développer des applications iOS sans écrire le moindre test. J'avais sans doute passé plus de temps avec JUnit qu'avec OCUnit, chose assez incroyable. 
</p>
<p>
    Mais depuis quelques mois, je me soigne. Le TDD est mon ami, et comme avec tous les amis il faut lui consacrer beaucoup de temps, mais il le rend bien. Et on rigole souvent à la fin de la journée de toutes ces galères communes.
</p>
<p>
    Les ressources pour se former à la pratique des tests unitaires sur iOS sont rares, on peut donc facilement en faire le tour. À ma connaissance, c'est Graham Lee (<a href="http://twitter.com/secboffin">@secboffin</a>, a.k.a. “Rouflaquette”) qui remporte le titre de référence en la matière. Vous pouvez le retrouver dans une Master class sur le site <a href="http://ideveloper.tv/video/unittestingcourse.html">iDeveloper TV</a>, avec des présentations vidéos très instructives. N'hésitez pas à vous les procurer. Il vient également tout juste de publier le premier livre consacré à ce sujet, <a href="http://www.amazon.com/Test-Driven-iOS-Development-Developers-Library/dp/0321774183/ref=sr_1_2">“Test-Driven iOS Development”</a>. Le contenu reprend largement celui des vidéos, mais s'attarde particulièrement sur les grands principes du TDD avec des exemples très détaillés, sans pour autant entrer davantage dans les détails techniques particuliers à iOS. Comme expliqué en haut de ce billet, cette pédagogie est sans doute nécessaire pour la plupart des développeurs concernés.
</p>
<div class="slideshow">
	<img src="img/ios-tdd-tests-unitaires/graham-lee-tdd-ios.png" alt="Test-Driven iOS Development" />
</div>

<p>
    Une fois les bases assimilées, il ne reste plus qu'à plonger dans <a href="http://ocmock.org/">OCMock</a>, <a href="http://jonreid.github.com/OCHamcrest/">OCHamcrest</a> et autres <a href="https://github.com/pivotal/cedar">Cedar</a>. Autant de sujets qui méritent des billets dédiés, peut-être pour plus tard. Ça vous laisse le temps pour vous familiariser avec OCUnit. <em>‘Cmd’+‘U’</em>.
</p>